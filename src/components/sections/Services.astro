---
// ServicesSection.astro
const services = [
  {
    icon: "Home",
    title: "Arquitectura Residencial",
    description:
      "Diseño de viviendas unifamiliares, condominios y desarrollos habitacionales con enfoque en confort, funcionalidad y estética contemporánea.",
    features: ["Casas unifamiliares", "Apartamentos", "Desarrollos residenciales"],
  },
  {
    icon: "Building",
    title: "Arquitectura Comercial",
    description:
      "Proyectos comerciales e institucionales que maximizan la eficiencia espacial y refuerzan la identidad corporativa de nuestros clientes.",
    features: ["Oficinas corporativas", "Centros comerciales", "Hoteles y resorts"],
  },
  {
    icon: "Compass",
    title: "Planificación Urbana",
    description:
      "Diseño de espacios públicos, planificación de desarrollos urbanísticos y estudios de ordenamiento territorial.",
    features: ["Master plans", "Espacios públicos", "Estudios de impacto"],
  },
  {
    icon: "PenTool",
    title: "Diseño de Interiores",
    description:
      "Creación de ambientes interiores que optimizan la experiencia del usuario, integrando mobiliario, iluminación y acabados.",
    features: ["Espacios residenciales", "Oficinas", "Locales comerciales"],
  },
  {
    icon: "TreePine",
    title: "Arquitectura Bioclimática",
    description:
      "Diseño sostenible que aprovecha recursos naturales, minimiza impacto ambiental y promueve la eficiencia energética.",
    features: ["Certificación LEED", "Eficiencia energética", "Materiales sostenibles"],
  },
  {
    icon: "HardHat",
    title: "Consultoría y Supervisión",
    description:
      "Acompañamiento integral en todas las fases del proyecto, desde estudios de factibilidad hasta la supervisión de obra.",
    features: ["Estudios de viabilidad", "Dirección de obra", "Gestión de permisos"],
  },
];
---

<section id="/#servicios" class="section-padding bg-secondary/50">
  <div class="container-corporate">
    <!-- Header -->
    <div class="services-header text-center max-w-3xl mx-auto mb-16">
      <span class="inline-block text-primary font-medium tracking-widest text-sm uppercase mb-4">
        Nuestros Servicios
      </span>
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-display font-semibold text-foreground leading-tight mb-6">
        Soluciones arquitectónicas integrales
      </h2>
      <p class="text-muted-foreground leading-relaxed">
        Ofrecemos un portafolio completo de servicios profesionales para satisfacer 
        las necesidades de proyectos de cualquier escala y complejidad.
      </p>
    </div>

    <!-- Services Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {services.map((service, index) => (
        <div
          class="service-card bg-card rounded-sm p-8 shadow-sm hover:shadow-card-hover transition-all duration-500 group"
          data-delay={index * 0.1}
        >
          <div class="w-14 h-14 bg-accent rounded-sm flex items-center justify-center mb-6 group-hover:bg-primary transition-colors duration-300">
            {service.icon === "Home" && (
              <svg class="w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
              </svg>
            )}
            {service.icon === "Building" && (
              <svg class="w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
              </svg>
            )}
            {service.icon === "Compass" && (
              <svg class="w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            )}
            {service.icon === "PenTool" && (
              <svg class="w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
              </svg>
            )}
            {service.icon === "TreePine" && (
              <svg class="w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
              </svg>
            )}
            {service.icon === "HardHat" && (
              <svg class="w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
            )}
          </div>
          <h3 class="text-xl font-display font-semibold text-foreground mb-3">
            {service.title}
          </h3>
          <p class="text-muted-foreground text-sm leading-relaxed mb-5">
            {service.description}
          </p>
          <ul class="space-y-2 mb-6">
            {service.features.map((feature) => (
              <li class="text-sm text-foreground flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full" />
                {feature}
              </li>
            ))}
          </ul>
          <a
            href="#contacto"
            class="service-link inline-flex items-center text-primary font-medium text-sm transition-all duration-300 gap-2"
          >
            Más información
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
            </svg>
          </a>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .services-header {
    opacity: 0;
  }

  .services-header.animate-in {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .service-card {
    opacity: 0;
  }

  .service-card.animate-in {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .service-link:hover {
    gap: 0.75rem;
  }
</style>

<script>
  // Intersection Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '-100px',
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-in');
      }
    });
  }, observerOptions);

  // Observe header
  const header = document.querySelector('.services-header');
  if (header) observer.observe(header);

  // Animate service cards with stagger
  const serviceCards = document.querySelectorAll('.service-card');
  serviceCards.forEach((card) => {
    const delay = parseFloat(card.getAttribute('data-delay') || '0');
    (card as HTMLElement).style.animationDelay = `${delay}s`;
    observer.observe(card);
  });
</script>